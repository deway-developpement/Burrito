<app-background-div>
  <div class="nav-bar">
    <app-go-back></app-go-back>
  </div>

  <div class="page-container">
    <app-admin-page-header
      i18n-title="@@manageTeachers.title"
      title="Manage Teachers"
      i18n-subtitle="@@manageTeachers.subtitle"
      subtitle="View, edit, or onboard new teaching staff."
      i18n-buttonLabel="@@manageTeachers.addButton"
      buttonLabel="Add New Teacher"
      (action)="onAdd()"
    ></app-admin-page-header>

    <app-admin-table
      [columns]="tableColumns"
      [data]="teachers()"
      (edit)="onEdit($event)"
      (delete)="onDelete($event)"
    ></app-admin-table>

    @if (loading() && teachers().length === 0) {
      <div class="table-status" i18n="@@manageTeachers.loading">Loading teachers...</div>
    }

    @if (!loading() && teachers().length === 0) {
      <div class="table-status" i18n="@@manageTeachers.empty">No teachers found.</div>
    }

    @if (loadMoreDisabled()) {
      <div class="table-status" i18n="@@manageTeachers.loadingMore">Loading more...</div>
    }

    <div #loadMoreTrigger class="load-more-trigger" aria-hidden="true"></div>

  <app-edit-user-modal
    [user]="selectedUser"
    (closed)="closeEditModal()"
    (saved)="refreshData()">
  </app-edit-user-modal>

  @if (showAddModal) {
    <app-add-user-modal 
      userType="TEACHER"
      (closed)="closeAddModal()" 
      (saved)="refreshData()">
    </app-add-user-modal>
  }
  </div>

  <app-alert-dialog
    [open]="alertDialogOpen"
    [title]="alertDialogTitle"
    [message]="alertDialogMessage"
    [confirmLabel]="alertDialogConfirmLabel"
    [cancelLabel]="alertDialogCancelLabel"
    [showCancel]="alertDialogShowCancel"
    [intent]="alertDialogIntent"
    (confirm)="confirmAlertDialog()"
    (cancelClick)="closeAlertDialog()"
  ></app-alert-dialog>
</app-background-div>
