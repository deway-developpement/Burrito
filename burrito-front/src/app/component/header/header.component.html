<header class="home__header">
  <div class="home__logo" routerLink="/">
    <span class="home__logo-icon">ðŸŒ¯</span>
    <span class="home__logo-text">Burrito</span>
  </div>

  <div class="home__actions">
    <div class="home__locale">
      <select
        class="home__locale-select"
        [value]="activeLocale"
        (change)="onLocaleChange($any($event.target).value)"
        i18n-aria-label="@@header.languageSelector"
        aria-label="Language"
      >
        <option value="en" [selected]="activeLocale === 'en'">EN</option>
        <option value="fr" [selected]="activeLocale === 'fr'">FR</option>
        <option value="de" [selected]="activeLocale === 'de'">DE</option>
        <option value="es" [selected]="activeLocale === 'es'">ES</option>
      </select>
    </div>

    @if (userService.currentUser(); as user) {
      
      <span class="home__welcome" i18n="@@header.welcome">
        Welcome, <strong>{{ user.fullName }}</strong>
      </span>

      <app-button 
        variant="outline" 
        (click)="logout()"
      >
        <span i18n="@@header.logout">Logout</span>
      </app-button>

    } @else {

      <app-button
        variant="outline"
        [routerLink]="'/sign-in'"
      >
        <span i18n="@@header.signIn">Sign in</span>
      </app-button>
    }

  </div>
</header>
@if (userService.currentUser(); as user) {
  @if (!user.emailVerified) {
    <div class="verify-banner" role="alert">
      <span i18n="@@header.verifyEmail">Please verify your email to access all features.</span>
      <app-button
        variant="primary"
        size="small"
        [disabled]="isResending()"
        (click)="resendVerification()"
      >
        @if (isResending()) {
          <span i18n="@@header.sending">Sending...</span>
        } @else {
          <span i18n="@@header.resendVerificationButton">Resend verification email</span>
        }
      </app-button>
      @if (resendStatus() === 'success') {
        <span class="verify-banner__status success" i18n="@@header.resendSuccess">
          Email sent. Check your inbox.
        </span>
      }
      @if (resendStatus() === 'error') {
        <span class="verify-banner__status error" i18n="@@header.resendError">
          Failed to send. Try again.
        </span>
      }
    </div>
  }
}

